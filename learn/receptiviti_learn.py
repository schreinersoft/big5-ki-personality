# -*- coding: utf-8 -*-
"""reciptiviti_learn.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1NYci3jNcogWpH3tRtUKqfT6KgMS4VtoT
"""

from google.colab import userdata
import json
import httpx
import requests
import os

text = """
Dear Mr Moore,

I had a talk with Warburg about the contract position. He is quite satisfied with my assurance that I will bring him all my future work, subject to books of a special nature (eg. that Britain in Pictures book)1 being allowed to go elsewhere. He is not pressing for a hard and fast contract, but he would no doubt prefer to have one when the other business is settled.

The real trouble is with Gollancz. The contract to bring him my next two novels is still extant, and as he refused to regard Animal Farm as working off one of these, it looks as if he wants to keep to it. At the same time I frankly would prefer not to give or offer him any more books if we can get out of it. I have no quarrel with him personally, he has treated me generously and published my work when no one else would, but it is obviously unsatisfactory to be tied to a publisher who accepts or refuses books partly on political grounds and whose own political views are constantly changing. When I wrote Animal Farm for instance, I knew in advance that it would be a very difficult book to find a publisher for, and having to submit it to Gollancz simply meant that much time wasted. This might happen over and over again, and judging by some of the things he has published during the past year or two, I doubt whether I could now write anything that Gollancz would approve of. For instance, I recently started a novel2. Considering how much work I have to do elsewhere I don’t expect to finish it till some time in 1947, but I am pretty sure Gollancz would refuse it when the time comes, unless by that time his views have altered again. He might say that so far as novels go he does not mind what views they express, but it is a bad arrangement to take novels to one publisher and non-fiction to another. For example, that Spanish war book, which is about the best I have written, would probably have sold more if published by Gollancz, as by that time I was becoming known to the Gollancz public. With Warburg these difficulties don’t arise. He is less interested in propaganda and in any case his views are near enough to mine to prevent serious disagreement. From Gollancz’s own point of view I do not imagine I am a good proposition either. Having me on his list means that from time to time he will publish a book which neither he nor his friends can disapprove° of. It seems to me that if he will agree it would be better to scrap the contract. If he won’t agree I will keep to the strict letter, ie. as regards two more novels, and I have no doubt I can make this all right with Warburg. Perhaps you could approach Gollancz about this. You can quote this paragraph if you wish.

I saw W. J. Turner the other day and asked him about the Britain in Pictures book. He said Edmund Blunden 3 is writing the companion volume and the two will be published simultaneously. I said that as they had had the Ms a year I thought I ought to have some money. The agreed advance was £50 and I suggested they should give me £25 now. He said there would be no objection to this and I told him you would write to him, which you have perhaps done already.

Hamish Hamilton wrote to say Harper’s would like to see something more of mine. I told him about the book of essays, and perhaps if the Dial Press people turn it down it might be worth showing it to Harpers,° though I shouldn’t think it is much in their line.

Yours sincerely

Eric Blair"""

def getTraits(text: str):
  url = 'https://api.receptiviti.com/v2/analyze/written'
  api_key = userdata.get('RECIPTIVITI_API_KEY')
  api_secret = userdata.get('RECIPTIVITI_SECRET')
  data = [{
    "request_id": "req-1",
    "text": text
  }]
  response = requests.post(url=url, data=json.dumps(data), auth=(api_key, api_secret), headers={"Content-Type": "application/json"})
  return response.json()

y = getTraits("I've been wrapped around your finger.")

y

url = 'https://api.receptiviti.com/v2/ping'
api_key = userdata.get('RECEPTIVITI_API_KEY')
api_secret = userdata.get('RECEPTIVITI_SECRET')
response = requests.get(url=url, auth=(api_key, api_secret))
response.json()